{"version":3,"sources":["redux/contacts/contactsActions.js","redux/contacts/contactsOperations.js","redux/contacts/contactsReducer.js","redux/store.js","components/Container/Container.js","components/Navigation/Navigations.js","components/AuthNav/AuthNav.js","components/UserMenu/defaultAvatar.jpg","components/UserMenu/UserMenu.js","components/AppBar/AppBar.js","components/PublicRoute.js","components/PrivateRoute.js","App.js","reportWebVitals.js","index.js","redux/auth/authActions.js","redux/auth/authReducer.js","redux/auth/authOperations.js","redux/auth/authSelectors.js"],"names":["fetchContactsRequest","createAction","fetchContactsSuccess","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","contactsActions","axios","defaults","baseURL","fetchContacts","dispatch","get","then","data","catch","error","addContact","name","number","contact","post","deleteContact","contactId","delete","contactsFormReducer","createReducer","_","payload","state","filter","id","filterReducer","loadingReducer","contactsReducer","combineReducers","contacts","loading","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","auth","persistReducer","authReducer","devTools","process","persistor","persistStore","Container","children","className","Navigation","isAuthenticated","useSelector","authSelectors","getIsAuthenticated","to","exact","activeClassName","AuthNav","UserMenu","useDispatch","getUsername","src","defaultAvatar","alt","width","type","onClick","authOperations","logOut","AppBar","PublicRoute","redirectTo","routeProps","isLoggedIn","restricted","PrivateRoute","HomeView","lazy","RegisterView","LoginView","ContactsView","App","useEffect","getCurrentUser","fallback","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","registerRequest","registerSuccess","registerError","loginRequest","loginSuccess","loginError","logoutRequest","logoutSuccess","logoutError","getCurrentUserRequest","getCurrentUserSuccess","getCurrentUserError","initialUserState","email","user","authActions","token","setError","headers","common","Authorization","register","credentials","message","logIn","console","log","getState","persistedToken"],"mappings":"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","file":"static/js/main.14ec916b.chunk.js","sourcesContent":["\r\nimport { createAction } from '@reduxjs/toolkit';\r\n\r\nconst fetchContactsRequest = createAction('phonebook/fetchContactsRequest');\r\nconst fetchContactsSuccess = createAction('phonebook/fetchContactsSuccess');\r\nconst fetchContactsError = createAction('phonebook/fetchContactsError');\r\n\r\nconst addContactRequest = createAction('phonebook/addContactRequest');\r\nconst addContactSuccess = createAction('phonebook/addContactSuccess');\r\nconst addContactError = createAction('phonebook/addContactError');\r\n\r\nconst deleteContactRequest = createAction('phonebook/deleteContactRequest');\r\nconst deleteContactSuccess = createAction('phonebook/deleteContactSuccess');\r\nconst deleteContactError = createAction('phonebook/deleteContactError');\r\n\r\nconst changeFilter = createAction('phonebook/changeFilter');\r\n\r\nexport default { fetchContactsRequest, fetchContactsSuccess, fetchContactsError, addContactRequest, addContactSuccess, addContactError, deleteContactRequest, deleteContactSuccess, deleteContactError, changeFilter };","import axios from 'axios';\r\nimport { contactsActions } from './'\r\n\r\nconst { fetchContactsRequest, fetchContactsSuccess, fetchContactsError, addContactRequest, addContactSuccess, addContactError, deleteContactRequest, deleteContactSuccess, deleteContactError } = contactsActions;\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nconst fetchContacts = () => dispatch => {\r\n    dispatch(fetchContactsRequest());\r\n\r\n    axios.get('/contacts').then(({ data }) => dispatch(fetchContactsSuccess(data)))\r\n        .catch(error => dispatch(addContactError(error)));\r\n};\r\n\r\nconst addContact = (name, number) => dispatch => {\r\n    const contact = { name, number };\r\n\r\n    dispatch(addContactRequest());\r\n\r\n    axios.post('/contacts', contact).then(({ data }) =>\r\n        dispatch(addContactSuccess(data)))\r\n        .catch(error => dispatch(addContactError(error)));\r\n};\r\n\r\nconst deleteContact = contactId => dispatch => {\r\n    dispatch(deleteContactRequest());\r\n\r\n    axios.delete(`/contacts/${contactId}`)\r\n        .then(() => dispatch(deleteContactSuccess(contactId)))\r\n        .catch(error => dispatch(deleteContactError(error)));\r\n};\r\n\r\nexport default { fetchContacts, addContact, deleteContact }","import { createReducer, combineReducers } from '@reduxjs/toolkit'\r\nimport { contactsActions } from './';\r\n\r\nconst { fetchContactsRequest, fetchContactsSuccess, fetchContactsError, addContactRequest, addContactSuccess, addContactError, deleteContactRequest, deleteContactSuccess, deleteContactError, changeFilter } = contactsActions;\r\n\r\nconst contactsFormReducer = createReducer([], {\r\n    [fetchContactsSuccess]: (_, { payload }) => payload,\r\n    [addContactSuccess]: (state, { payload }) => [...state, payload],\r\n    [deleteContactSuccess]: (state, { payload }) =>\r\n        state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst filterReducer = createReducer('', {\r\n    [changeFilter]: (_, { payload }) => payload\r\n});\r\n\r\nconst loadingReducer = createReducer(false, {\r\n    [fetchContactsRequest]: () => true,\r\n    [fetchContactsSuccess]: () => false,\r\n    [fetchContactsError]: () => false,\r\n    [addContactRequest]: () => true,\r\n    [addContactSuccess]: () => false,\r\n    [addContactError]: () => false,\r\n    [deleteContactRequest]: () => true,\r\n    [deleteContactSuccess]: () => false,\r\n    [deleteContactError]: () => false\r\n});\r\n\r\nconst contactsReducer = combineReducers({\r\n    contacts: contactsFormReducer,\r\n    filter: filterReducer,\r\n    loading: loadingReducer\r\n});\r\n\r\nexport default contactsReducer;","import { configureStore, getDefaultMiddleware, } from '@reduxjs/toolkit';\r\nimport {\r\n    persistStore,\r\n    persistReducer,\r\n    FLUSH,\r\n    REHYDRATE,\r\n    PAUSE,\r\n    PERSIST,\r\n    PURGE,\r\n    REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport { contactsReducer } from './contacts';\r\nimport { authReducer } from './auth';\r\n\r\nconst middleware = [\r\n    ...getDefaultMiddleware({\r\n        serializableCheck: {\r\n            ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n        },\r\n    })\r\n];\r\n\r\nconst authPersistConfig = {\r\n    key: 'auth',\r\n    storage,\r\n    whitelist: ['token'],\r\n};\r\n\r\nconst store = configureStore({\r\n    reducer: {\r\n        auth: persistReducer(authPersistConfig, authReducer),\r\n        contacts: contactsReducer,\r\n    },\r\n    middleware,\r\n    devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport default { store, persistor };","import React from 'react';\r\nimport './Container.scss';\r\n\r\nconst Container = ({ children }) => <div className=\"Container\">{children}</div>;\r\n\r\nexport default Container;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { authSelectors } from '../../redux/auth';\r\nimport './Navigation.scss'\r\n\r\nexport default function Navigation() {\r\n    const isAuthenticated = useSelector(authSelectors.getIsAuthenticated);\r\n\r\n    return (<nav>\r\n        <NavLink to=\"/\"\r\n            exact\r\n            className='nav-link'\r\n            activeClassName='nav-link__active'>\r\n            Main\r\n        </NavLink>\r\n\r\n\r\n        {isAuthenticated && (<NavLink\r\n            to=\"/contacts\"\r\n            exact\r\n            className='nav-link'\r\n            activeClassName='nav-link__active'>\r\n            Contacts\r\n        </NavLink>)}\r\n    </nav>)\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport '../Navigation/Navigation.scss'\r\n\r\nconst AuthNav = () => (\r\n    <div>\r\n        <NavLink\r\n            to=\"/register\"\r\n            exact\r\n            className='nav-link'\r\n            activeClassName='nav-link__active'\r\n        >\r\n            Registration\r\n        </NavLink>\r\n        <NavLink\r\n            to=\"/login\"\r\n            exact\r\n            className='nav-link'\r\n            activeClassName='nav-link__active'\r\n        >\r\n            Log In\r\n        </NavLink>\r\n    </div>\r\n);\r\n\r\nexport default AuthNav;","export default __webpack_public_path__ + \"static/media/defaultAvatar.12e39dc7.jpg\";","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { authSelectors, authOperations } from '../../redux/auth';\r\nimport defaultAvatar from './defaultAvatar.jpg';\r\nimport './UserMenu.scss'\r\n\r\nexport default function UserMenu() {\r\n    const dispatch = useDispatch();\r\n    const name = useSelector(authSelectors.getUsername);\r\n\r\n    const onLogout = () => dispatch(authOperations.logOut());\r\n\r\n    return (\r\n        <div className='user-container'>\r\n            <img src={defaultAvatar} alt=\"\" width=\"32\" className='user-avatar' />\r\n            <span className='user-name'>Welcome, {name}</span>\r\n            <button type=\"button\" onClick={onLogout} className='user-btn'>\r\n                Logout\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport './AppBar.scss'\r\nimport Navigation from '../Navigation'\r\nimport AuthNav from '../AuthNav';\r\nimport UserMenu from '../UserMenu';\r\nimport { authSelectors } from '../../redux/auth'\r\n\r\nexport default function AppBar() {\r\n    const isAuthenticated = useSelector(authSelectors.getIsAuthenticated);\r\n\r\n    return (<header className='app-header'>\r\n        <Navigation />\r\n        {isAuthenticated ? <UserMenu /> : <AuthNav />}\r\n    </header>)\r\n\r\n}\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\nexport default function PublicRoute({\r\n    isAuthenticated,\r\n    redirectTo,\r\n    children,\r\n    ...routeProps\r\n}) {\r\n    const isLoggedIn = useSelector(authSelectors.getIsAuthenticated);\r\n\r\n    return (\r\n        <Route {...routeProps}>\r\n            {isLoggedIn && routeProps.restricted ? (\r\n                <Redirect to={redirectTo} />\r\n            ) : (\r\n                children\r\n            )}\r\n        </Route>\r\n    );\r\n}","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\nexport default function PrivateRoute({\r\n    isAuthenticated,\r\n    redirectTo,\r\n    children,\r\n    ...routeProps\r\n}) {\r\n    const isLoggedIn = useSelector(authSelectors.getIsAuthenticated);\r\n\r\n    return (\r\n        <Route {...routeProps}>\r\n            {isLoggedIn ? children : <Redirect to={redirectTo} />}\r\n        </Route>\r\n    );\r\n}","import React, { useEffect, Suspense, lazy } from 'react';\nimport { Switch } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport Container from './components/Container'\nimport AppBar from './components/AppBar'\nimport PublicRoute from './components/PublicRoute';\nimport PrivateRoute from './components/PrivateRoute';\nimport { authOperations } from './redux/auth'\n\nconst HomeView = lazy(() => import('./views/HomeView'));\nconst RegisterView = lazy(() => import('./views/RegisterView'));\nconst LoginView = lazy(() => import('./views/LoginView'));\nconst ContactsView = lazy(() => import('./views/ContactsView'));\n\nexport default function App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(authOperations.getCurrentUser())\n  }, [dispatch])\n\n  return (<Container>\n    <AppBar />\n    <Suspense fallback={<h3>Loading...</h3>}>\n      <Switch>\n        <PublicRoute exact path=\"/\" >\n          <HomeView />\n        </PublicRoute>\n        <PublicRoute\n          path=\"/register\"\n          restricted\n          redirectTo=\"/contacts\">\n          <RegisterView />\n        </PublicRoute>\n        <PublicRoute\n          path=\"/login\"\n          restricted\n          redirectTo=\"/contacts\">\n          <LoginView/>\n        </PublicRoute>\n        <PrivateRoute\n          path=\"/contacts\"\n          redirectTo=\"/login\">\n          <ContactsView/>\n        </PrivateRoute>\n      </Switch>\n    </Suspense>\n  </Container >)\n};\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport store from './redux/store';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'modern-normalize/modern-normalize.css';\nimport './styles/base.scss';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store.store}>\n      <PersistGate loading={null} persistor={store.persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nconst registerRequest = createAction('auth/registerRequest');\r\nconst registerSuccess = createAction('auth/registerSuccess');\r\nconst registerError = createAction('auth/registerError');\r\n\r\nconst loginRequest = createAction('auth/loginRequest');\r\nconst loginSuccess = createAction('auth/loginSuccess');\r\nconst loginError = createAction('auth/loginError');\r\n\r\nconst logoutRequest = createAction('auth/logoutRequest');\r\nconst logoutSuccess = createAction('auth/logoutSuccess');\r\nconst logoutError = createAction('auth/logoutError');\r\n\r\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\r\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\r\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\r\n\r\nexport default {\r\n    registerRequest,\r\n    registerSuccess,\r\n    registerError,\r\n    logoutRequest,\r\n    logoutSuccess,\r\n    logoutError,\r\n    loginRequest,\r\n    loginSuccess,\r\n    loginError,\r\n    getCurrentUserRequest,\r\n    getCurrentUserSuccess,\r\n    getCurrentUserError,\r\n};","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport authActions from './authActions';\r\n\r\nconst initialUserState = { name: null, email: null };\r\n\r\nconst user = createReducer(initialUserState, {\r\n    [authActions.registerSuccess]: (_, { payload }) => payload.user,\r\n    [authActions.loginSuccess]: (_, { payload }) => payload.user,\r\n    [authActions.logoutSuccess]: () => initialUserState,\r\n    [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n    [authActions.registerSuccess]: (_, { payload }) => payload.token,\r\n    [authActions.loginSuccess]: (_, { payload }) => payload.token,\r\n    [authActions.logoutSuccess]: () => null,\r\n});\r\n\r\nconst setError = (_, { payload }) => payload;\r\n\r\nconst error = createReducer(null, {\r\n    [authActions.registerError]: setError,\r\n    [authActions.loginError]: setError,\r\n    [authActions.logoutError]: setError,\r\n    [authActions.getCurrentUserError]: setError,\r\n});\r\n\r\nconst isAuthenticated = createReducer(false, {\r\n    [authActions.registerSuccess]: () => true,\r\n    [authActions.loginSuccess]: () => true,\r\n    [authActions.getCurrentUserSuccess]: () => true,\r\n    [authActions.registerError]: () => false,\r\n    [authActions.loginError]: () => false,\r\n    [authActions.getCurrentUserError]: () => false,\r\n    [authActions.logoutSuccess]: () => false,\r\n});\r\n\r\nexport default combineReducers({\r\n    user,\r\n    isAuthenticated,\r\n    token,\r\n    error,\r\n});","import axios from 'axios';\r\nimport authActions from './authActions';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nconst token = {\r\n    set(token) {\r\n        axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n    },\r\n    unset() {\r\n        axios.defaults.headers.common.Authorization = '';\r\n    },\r\n};\r\n\r\nconst register = credentials => dispatch => {\r\n    dispatch(authActions.registerRequest());\r\n\r\n    axios.post('/users/signup', credentials).then(({ data }) => {\r\n        token.set(data.token)\r\n        dispatch(authActions.registerSuccess(data))\r\n    }).catch(({ message }) =>\r\n        dispatch(authActions.registerError(message)));\r\n};\r\n\r\nconst logIn = credentials => dispatch => {\r\n    dispatch(authActions.loginRequest());\r\n\r\n    axios.post('/users/login', credentials).then(({ data }) => {\r\n        console.log(data);\r\n        token.set(data.token)\r\n        dispatch(authActions.loginSuccess(data))\r\n    }).catch(({ message }) =>\r\n        dispatch(authActions.loginError(message)));\r\n};\r\n\r\nconst logOut = () => dispatch => {\r\n    dispatch(authActions.logoutRequest());\r\n\r\n    axios.post('/users/logout').then(() => {\r\n        token.unset()\r\n        dispatch(authActions.logoutSuccess())\r\n    }).catch(({ message }) =>\r\n        dispatch(authActions.logoutError(message)));\r\n};\r\n\r\nconst getCurrentUser = () => (dispatch, getState) => {\r\n    const {\r\n        auth: { token: persistedToken },\r\n    } = getState();\r\n\r\n    if (!persistedToken) {\r\n        return;\r\n    }\r\n\r\n    token.set(persistedToken);\r\n    dispatch(authActions.getCurrentUserRequest());\r\n\r\n    axios.get('/users/current').then(({ data }) => {\r\n        dispatch(authActions.getCurrentUserSuccess(data))\r\n    }).catch(({ message }) =>\r\n        dispatch(authActions.getCurrentUserError(message)));\r\n};\r\n\r\nexport default { register, logOut, logIn, getCurrentUser };","const getIsAuthenticated = state => state.auth.isAuthenticated;\r\n\r\nconst getUsername = state => state.auth.user.name;\r\n\r\nexport default {\r\n    getIsAuthenticated,\r\n    getUsername,\r\n};"],"sourceRoot":""}